<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript" src="my.js"></script>
	<script type="text/javascript">
		ajax.get("data1.json",function(result){
			showResult(result);
		});
		function showResult(result){
			var obj = JSON.parse(result);
			console.log(obj.name);
		}
		
		//新的数据接口，数据格式变化了，不能直接使用旧的数据处理程序
		ajax.get("data2.json",function(result){
			//使用新的适配器来处理新的程序
			myAdapter(result);
		});
		//适配器的作用：把新格式的数据转换成旧格式的数据，然后再调用旧格式的处理程序
		function myAdapter(result){
			var obj = JSON.parse(result);
//			console.log(obj.data.name);
			showResult(JSON.stringify(obj.data));
		}
	</script>
</html>
