<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			div{
				width: 300px;
				height: 300px;
				/*background: pink;*/
				border-radius: 50%;
				margin: 100px 200px;
				/*transform-origin: 200px 200px;*/
				}
				img{
					display: inline-block;
					width: 300px;
					height: 300px;
				}
		</style>
	</head>
	<body>
		<div id="box">
			<img src="img/四叶风扇.png"/>
		</div>
		<button id="btn">开关</button>
	</body>
	<script type="text/javascript">
		btn.onclick = function(){
			var startTime = new Date(),
				duration = 1000,
				r = 200,
				px,py,
				p; 
			requestAnimationFrame(function step(){
				//归一化的时间
				p = Math.min(1,(new Date() - startTime)/duration);
				px = r*Math.sin(2*Math.PI*p);
				py = -r*Math.cos(2*Math.PI*p);
//				box.style.transform = "translate("+px+"px,"+py+"px)";
				box.style.transform = "rotateZ("+360*p+"deg)";
				if(p<1){
					requestAnimationFrame(step);
				}else{
					startTime = new Date();
					requestAnimationFrame(step);
				}
			});
		}
	</script>
</html>
